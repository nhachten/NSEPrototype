/******************************************************************************
 * 
 * CTCGUI class
 * 
 * Developed by AJility
 * April 2014
 * 
 * Contributers:
 *  Michael Kudlaty
 * 
 * DISCLAIMER:
 *   This document contains un-editable code generated by NetBeans.  Due to this
 *  un-editable code, this document does not follow the AJility coding standard.
 *
 *****************************************************************************/

package GUILayer.CTC;
import DataLayer.Bundles.BlockSignalBundle;
import DataLayer.CTC.CTC;
import DataLayer.CTC.TrainsClass;
import DataLayer.EnumTypes.LineColor;
import DataLayer.TrackModel.Switch;
import java.util.ArrayList;

public class CTCGUI extends javax.swing.JPanel {

    /**
     * Creates new form CTCGUI
     */
    private CTC CTCOffice;
    private ArrayList<String> trainNumbers;
    
    public CTCGUI() 
    {
        initComponents();
        trainNumbers = new ArrayList<>();        
        this.trainDestinationTable.setAutoCreateColumnsFromModel(false); 
        this.trainLocationsTable.setAutoCreateColumnsFromModel(false);
        //this.blockClosingsTable.setAutoCreateColumnsFromModel(false);
    }

    public void setCTCOffice(CTC c)
    {
        this.CTCOffice = c;
        this.updateTrainNumbers();
    }
    
    public void update()
    {
        this.SetTrainDestination();
        this.SetTrainLocations();
        this.SetSwitchPositions();
        //this.updateTrainNumbers();
        
    }
    
    private void updateTrainNumbers()
    {
        this.trainNumbers.add("Train #");
        //System.out.println("CTC Number of Trains: " + this.CTCOffice.trains.size());
        for(int i = 0; i <= this.CTCOffice.trains.size(); i++)
        {
            this.trainNumbers.add(Integer.toString(i));
        }
        //System.out.println("CTC Number of Trains: " + this.trainNumbers.size());
        
        this.routeTrainsTrainDrop.setModel(new javax.swing.DefaultComboBoxModel(this.trainNumbers.toArray(new String[0])));
        trainNumbers = new ArrayList<>();
        
    }
    
    
    public void setManual()
    {       
        //Disable all the buttons and drop down menus in the Block Closing section
        this.blockClosingsSubmitButton.setEnabled(true);
        this.blockClosingsLineDrop.setEnabled(true);
        this.blockClosingsSectionDrop.setEnabled(true);
        this.blockClosingsBlockDrop.setEnabled(true);
        this.blockClosingsOpenRadio.setEnabled(true);
        this.blockClosingsCloseRadio.setEnabled(true);
        
        //Disable all the buttons and drop down menus in the Route Train section
        this.routeTrainSubmitButton.setEnabled(true);
        this.routeTrainSpeedText.setEnabled(true);
        this.routeTrainsBlockDrop.setEnabled(true);
        this.routeTrainsSectionDrop.setEnabled(true);
        this.routeTrainsTrainDrop.setEnabled(true);
        this.routeTrainsLineDrop.setEnabled(true);
        
        //Disable all the buttons and drop down menus in the Change Switch Position section
        this.switchPositionSubmitButton.setEnabled(true);
        this.switchPositionsStraightRadio.setEnabled(true);
        this.switchPositionsDivergentRadio.setEnabled(true);
        this.switchPositionSwitchesDrop.setEnabled(true);
        this.switchPositionsLineDrop.setEnabled(true);
    }
        
    public void setAutomatic()
    {
         //Disable all the buttons and drop down menus in the Block Closing section
        this.blockClosingsSubmitButton.setEnabled(false);
        this.blockClosingsLineDrop.setEnabled(false);
        this.blockClosingsSectionDrop.setEnabled(false);
        this.blockClosingsBlockDrop.setEnabled(false);
        this.blockClosingsOpenRadio.setEnabled(false);
        this.blockClosingsCloseRadio.setEnabled(false);
        
        //Disable all the buttons and drop down menus in the Route Train section
        this.routeTrainSubmitButton.setEnabled(false);
        this.routeTrainSpeedText.setEnabled(false);
        this.routeTrainsBlockDrop.setEnabled(false);
        this.routeTrainsSectionDrop.setEnabled(false);
        this.routeTrainsTrainDrop.setEnabled(false);
        this.routeTrainsLineDrop.setEnabled(false);
        
        //Disable all the buttons and drop down menus in the Change Switch Position section
        this.switchPositionSubmitButton.setEnabled(false);
        this.switchPositionsStraightRadio.setEnabled(false);
        this.switchPositionsDivergentRadio.setEnabled(false);
        this.switchPositionSwitchesDrop.setEnabled(false);
        this.switchPositionsLineDrop.setEnabled(false);
    }
  
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        switchPositionsRadioGroup = new javax.swing.ButtonGroup();
        blockClosingsRadioGroup = new javax.swing.ButtonGroup();
        jScrollPane2 = new javax.swing.JScrollPane();
        trainLocationsTable = new javax.swing.JTable();
        jScrollPane1 = new javax.swing.JScrollPane();
        trainDestinationTable = new javax.swing.JTable();
        trainDestinationLabel = new javax.swing.JLabel();
        switchPositionsLabel = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        switchPositionsTable = new javax.swing.JTable();
        jScrollPane3 = new javax.swing.JScrollPane();
        blockClosingsTable = new javax.swing.JTable();
        blockClosingsLabel = new javax.swing.JLabel();
        trainLocationsLabel = new javax.swing.JLabel();
        blockClosingsPanel = new javax.swing.JPanel();
        blockClosingsLineDrop = new javax.swing.JComboBox();
        blockClosingsSectionDrop = new javax.swing.JComboBox();
        blockClosingsBlockDrop = new javax.swing.JComboBox();
        blockClosingsCloseRadio = new javax.swing.JRadioButton();
        blockClosingsOpenRadio = new javax.swing.JRadioButton();
        blockClosingsSubmitButton = new javax.swing.JButton();
        blockClosingsLabel1 = new javax.swing.JLabel();
        routeTrainsPanel = new javax.swing.JPanel();
        routeTrainsLabel = new javax.swing.JLabel();
        routeTrainAuthorityLabel = new javax.swing.JLabel();
        routeTrainAuthorityValueLabel = new javax.swing.JLabel();
        routeTrainSpeedText = new javax.swing.JTextField();
        routeTrainsBlockDrop = new javax.swing.JComboBox();
        routeTrainsTrainDrop = new javax.swing.JComboBox();
        routeTrainsLineDrop = new javax.swing.JComboBox();
        routeTrainsSectionDrop = new javax.swing.JComboBox();
        routeTrainSubmitButton = new javax.swing.JButton();
        routeTrainsSpeedLabel = new javax.swing.JLabel();
        switchPositionsPanel = new javax.swing.JPanel();
        switchPositionSubmitButton = new javax.swing.JButton();
        switchPositionsLineDrop = new javax.swing.JComboBox();
        switchPositionSwitchesDrop = new javax.swing.JComboBox();
        switchPositionsDivergentRadio = new javax.swing.JRadioButton();
        switchPositionLabel = new javax.swing.JLabel();
        switchPositionsStraightRadio = new javax.swing.JRadioButton();

        trainLocationsTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "Train", "Authority", "Line", "Section", "Block", "Station"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Integer.class, java.lang.Integer.class, java.lang.String.class, java.lang.String.class, java.lang.Integer.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane2.setViewportView(trainLocationsTable);

        trainDestinationTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Train", "Line", "Section", "Block", "Station"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane1.setViewportView(trainDestinationTable);

        trainDestinationLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        trainDestinationLabel.setText("Train Destination");

        switchPositionsLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        switchPositionsLabel.setText("Switch Positions");

        switchPositionsTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Line", "Switch ID", "Block:Block", "Position"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Integer.class, java.lang.String.class, java.lang.String.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane4.setViewportView(switchPositionsTable);

        blockClosingsTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Line", "Block ID"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Integer.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane3.setViewportView(blockClosingsTable);

        blockClosingsLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        blockClosingsLabel.setText("Block Closings");

        trainLocationsLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        trainLocationsLabel.setText("Train Locations");

        blockClosingsPanel.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        blockClosingsLineDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Line", "Green", "Red" }));
        blockClosingsLineDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                blockClosingsLineDropActionPerformed(evt);
            }
        });

        blockClosingsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Section" }));
        blockClosingsSectionDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                blockClosingsSectionDropActionPerformed(evt);
            }
        });

        blockClosingsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Block #" }));

        blockClosingsRadioGroup.add(blockClosingsCloseRadio);
        blockClosingsCloseRadio.setText("Close");

        blockClosingsRadioGroup.add(blockClosingsOpenRadio);
        blockClosingsOpenRadio.setText("Open");

        blockClosingsSubmitButton.setText("Submit");
        blockClosingsSubmitButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                blockClosingsSubmitButtonActionPerformed(evt);
            }
        });

        blockClosingsLabel1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        blockClosingsLabel1.setText("Block Closings");

        javax.swing.GroupLayout blockClosingsPanelLayout = new javax.swing.GroupLayout(blockClosingsPanel);
        blockClosingsPanel.setLayout(blockClosingsPanelLayout);
        blockClosingsPanelLayout.setHorizontalGroup(
            blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(blockClosingsPanelLayout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addGroup(blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(blockClosingsPanelLayout.createSequentialGroup()
                        .addGroup(blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(blockClosingsOpenRadio)
                            .addComponent(blockClosingsLineDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(blockClosingsCloseRadio)
                            .addComponent(blockClosingsSectionDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(22, 22, 22))
                    .addGroup(blockClosingsPanelLayout.createSequentialGroup()
                        .addComponent(blockClosingsBlockDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, blockClosingsPanelLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(blockClosingsLabel1)
                .addGap(58, 58, 58))
            .addGroup(blockClosingsPanelLayout.createSequentialGroup()
                .addGap(81, 81, 81)
                .addComponent(blockClosingsSubmitButton)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        blockClosingsPanelLayout.setVerticalGroup(
            blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(blockClosingsPanelLayout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addComponent(blockClosingsLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(blockClosingsSectionDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(blockClosingsLineDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(blockClosingsBlockDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 8, Short.MAX_VALUE)
                .addGroup(blockClosingsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(blockClosingsOpenRadio)
                    .addComponent(blockClosingsCloseRadio))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(blockClosingsSubmitButton)
                .addGap(5, 5, 5))
        );

        routeTrainsPanel.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        routeTrainsLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        routeTrainsLabel.setText("Route Trains");

        routeTrainAuthorityLabel.setText("Authority:");

        routeTrainAuthorityValueLabel.setText("0");

        routeTrainsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Block #" }));
        routeTrainsBlockDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                routeTrainsBlockDropActionPerformed(evt);
            }
        });

        routeTrainsTrainDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Train #" }));
        routeTrainsTrainDrop.setToolTipText("");
        routeTrainsTrainDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                routeTrainsTrainDropActionPerformed(evt);
            }
        });

        routeTrainsLineDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Line" }));
        routeTrainsLineDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                routeTrainsLineDropActionPerformed(evt);
            }
        });

        routeTrainsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Section" }));
        routeTrainsSectionDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                routeTrainsSectionDropActionPerformed(evt);
            }
        });

        routeTrainSubmitButton.setText("Submit");
        routeTrainSubmitButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                routeTrainSubmitButtonActionPerformed(evt);
            }
        });

        routeTrainsSpeedLabel.setText("Speed:");
        routeTrainsSpeedLabel.setToolTipText("");

        javax.swing.GroupLayout routeTrainsPanelLayout = new javax.swing.GroupLayout(routeTrainsPanel);
        routeTrainsPanel.setLayout(routeTrainsPanelLayout);
        routeTrainsPanelLayout.setHorizontalGroup(
            routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, routeTrainsPanelLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(routeTrainsSectionDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(routeTrainsTrainDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(37, 37, 37)
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(routeTrainsLineDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(routeTrainsBlockDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32))
            .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                        .addGap(61, 61, 61)
                        .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                                .addComponent(routeTrainsSpeedLabel)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(routeTrainSpeedText, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                                .addComponent(routeTrainAuthorityLabel)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(routeTrainAuthorityValueLabel))))
                    .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                        .addGap(58, 58, 58)
                        .addComponent(routeTrainsLabel))
                    .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                        .addGap(76, 76, 76)
                        .addComponent(routeTrainSubmitButton)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        routeTrainsPanelLayout.setVerticalGroup(
            routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(routeTrainsPanelLayout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addComponent(routeTrainsLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(routeTrainsTrainDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(routeTrainsLineDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(routeTrainsSectionDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(routeTrainsBlockDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(routeTrainAuthorityValueLabel)
                    .addComponent(routeTrainAuthorityLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(routeTrainsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(routeTrainSpeedText, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(routeTrainsSpeedLabel, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(18, 18, 18)
                .addComponent(routeTrainSubmitButton)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        switchPositionsPanel.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        switchPositionSubmitButton.setText("Submit");
        switchPositionSubmitButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                switchPositionSubmitButtonActionPerformed(evt);
            }
        });

        switchPositionsLineDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Line", "GREEN", "RED" }));
        switchPositionsLineDrop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                switchPositionsLineDropActionPerformed(evt);
            }
        });

        switchPositionSwitchesDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Switch #" }));

        switchPositionsRadioGroup.add(switchPositionsDivergentRadio);
        switchPositionsDivergentRadio.setText("Divergent");
        switchPositionsDivergentRadio.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                switchPositionsDivergentRadioActionPerformed(evt);
            }
        });

        switchPositionLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        switchPositionLabel.setText("Switch Positions");

        switchPositionsRadioGroup.add(switchPositionsStraightRadio);
        switchPositionsStraightRadio.setText("Straight");

        javax.swing.GroupLayout switchPositionsPanelLayout = new javax.swing.GroupLayout(switchPositionsPanel);
        switchPositionsPanel.setLayout(switchPositionsPanelLayout);
        switchPositionsPanelLayout.setHorizontalGroup(
            switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, switchPositionsPanelLayout.createSequentialGroup()
                .addContainerGap(36, Short.MAX_VALUE)
                .addGroup(switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(switchPositionsDivergentRadio)
                    .addComponent(switchPositionsLineDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(switchPositionSwitchesDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(switchPositionsStraightRadio))
                .addGap(33, 33, 33))
            .addGroup(switchPositionsPanelLayout.createSequentialGroup()
                .addGroup(switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(switchPositionsPanelLayout.createSequentialGroup()
                        .addGap(47, 47, 47)
                        .addComponent(switchPositionLabel))
                    .addGroup(switchPositionsPanelLayout.createSequentialGroup()
                        .addGap(79, 79, 79)
                        .addComponent(switchPositionSubmitButton)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        switchPositionsPanelLayout.setVerticalGroup(
            switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, switchPositionsPanelLayout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addComponent(switchPositionLabel)
                .addGap(18, 18, 18)
                .addGroup(switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(switchPositionsLineDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(switchPositionSwitchesDrop, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 16, Short.MAX_VALUE)
                .addGroup(switchPositionsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(switchPositionsDivergentRadio)
                    .addComponent(switchPositionsStraightRadio))
                .addGap(18, 18, 18)
                .addComponent(switchPositionSubmitButton)
                .addGap(5, 5, 5))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addGap(42, 42, 42)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 227, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(118, 118, 118)
                        .addComponent(switchPositionsLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(blockClosingsLabel)
                        .addGap(62, 62, 62))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 249, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addComponent(trainLocationsLabel)
                                .addGap(250, 250, 250))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addComponent(trainDestinationLabel)
                                .addGap(242, 242, 242)))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(switchPositionsPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(routeTrainsPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(blockClosingsPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(blockClosingsPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(routeTrainsPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(switchPositionsPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(trainLocationsLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addGap(18, 18, 18)
                        .addComponent(trainDestinationLabel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(switchPositionsLabel)
                            .addComponent(blockClosingsLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                            .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(13, 13, 13))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void blockClosingsLineDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingsLineDropActionPerformed
        String x = String.valueOf(this.blockClosingsLineDrop.getSelectedItem());
        if(x.equals("RED"))
        {
          this.blockClosingsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(this.CTCOffice.redSections));  
        }
        else
        {
          this.blockClosingsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(this.CTCOffice.greenSections));    
        }
        this.blockClosingsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] {"Block #"}));
    }//GEN-LAST:event_blockClosingsLineDropActionPerformed

    private void routeTrainsTrainDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainsTrainDropActionPerformed
        String x = String.valueOf(this.routeTrainsTrainDrop.getSelectedItem());
        //System.out.println("CTC Train " + x + " selected on line: " + this.CTCOffice.trains.get(Integer.parseInt(x)).lineColor());
        if(this.CTCOffice.trains.get(Integer.parseInt(x)).lineColor().equals("Yard"))
        {
          this.routeTrainsLineDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] {"Line", "GREEN", "RED"}));  
        }
        else
        {
          this.routeTrainsLineDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] {"Line", this.CTCOffice.trains.get(Integer.parseInt(x)).lineColor()}));    
        }
        this.routeTrainsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] {"Section"}));
        this.routeTrainsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] {"Block #"}));
        this.routeTrainAuthorityValueLabel.setText("0");
    }//GEN-LAST:event_routeTrainsTrainDropActionPerformed

    private void switchPositionsLineDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_switchPositionsLineDropActionPerformed
        String x = String.valueOf(this.switchPositionsLineDrop.getSelectedItem());
        ArrayList<String> switches = new ArrayList<>();
        
        switches.add("Switch #");
        
        for(int i = 0; i < this.CTCOffice.switchPostions.size(); i++)
        {
            if(x.equals(lineString(this.CTCOffice.switchPostions.get(i).LineID)))
            {
              switches.add(Integer.toString(this.CTCOffice.switchPostions.get(i).SwitchID));
            }
        }
        if(switches.size() == 0)
        {
            switches.add("Switch #");
        }
        
        this.switchPositionSwitchesDrop.setModel(new javax.swing.DefaultComboBoxModel(switches.toArray(new String[0])));

        
    }//GEN-LAST:event_switchPositionsLineDropActionPerformed

    private void switchPositionsDivergentRadioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_switchPositionsDivergentRadioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_switchPositionsDivergentRadioActionPerformed

    //bad method, not able to delete
        private void blockClosingLineDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingLineDropActionPerformed
        // TODO add your handling code here:

        
        //blockClosingSectionDrop.setModel(new DefaultComboBoxModel(greenSections));
    }//GEN-LAST:event_blockClosingLineDropActionPerformed
    
    private void blockClosingBlockDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingBlockDropActionPerformed
        // TODO add your handling code here:

    }//GEN-LAST:event_blockClosingBlockDropActionPerformed

         
    private void blockClosingSubmitButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingSubmitButtonActionPerformed

    }//GEN-LAST:event_blockClosingSubmitButtonActionPerformed

    private void changeSwitchPositionLineDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_changeSwitchPositionLineDropActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_changeSwitchPositionLineDropActionPerformed

    private void blockClosingsCloseRadioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingCloseRadioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_blockClosingCloseRadioActionPerformed
/*
    private void routeTrainsBlockDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainBlockDropActionPerformed
        // TODO add your handling code here:
        
    }//GEN-LAST:event_routeTrainBlockDropActionPerformed

    private void routeTrainsSectionDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainSectionDropActionPerformed
        // TODO add your handling code here:

    }//GEN-LAST:event_routeTrainSectionDropActionPerformed

    //bad method, not able to delete
    private void systemAutomaticRadioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_systemAutomaticRadioActionPerformed
        // TODO add your handling code here:
        
    }//GEN-LAST:event_systemAutomaticRadioActionPerformed
*/
    private void routeTrainLineDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainLineDropActionPerformed
        // TODO add your handling code here:
        String x = String.valueOf(routeTrainsLineDrop.getSelectedItem());
        if(x.equals("RED"))
        {
          routeTrainsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(this.CTCOffice.redSections));  
        }
        else
        {
          routeTrainsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(this.CTCOffice.greenSections));    
        }
    }//GEN-LAST:event_routeTrainLineDropActionPerformed

    private void blockClosingsSectionDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingsSectionDropActionPerformed
       ArrayList<String> blocks = new ArrayList<>();
        blocks.add("Block #");
        
        String line = String.valueOf(this.blockClosingsLineDrop.getSelectedItem());
        String section = String.valueOf(this.blockClosingsSectionDrop.getSelectedItem()).toUpperCase();
        
        //System.out.println("CTC" + line);
        if(line.toUpperCase().equals("RED"))
        {
            for(String[] s: this.CTCOffice.red)
            {
                if(s[0].toUpperCase().equals(section))
                {
                    blocks.add(s[1]);
                }
            }      
            
            this.blockClosingsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(blocks.toArray(new String[0])));  
        }
        else if(line.toUpperCase().equals("GREEN"))
        {
            
            for(String[] s: this.CTCOffice.green)
            {
                if(s[0].toUpperCase().equals(section))
                {
                    blocks.add(s[1]);
                }
            }            
            this.blockClosingsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(blocks.toArray(new String[0])));
        }
    }//GEN-LAST:event_blockClosingsSectionDropActionPerformed

    private void blockClosingsSubmitButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_blockClosingsSubmitButtonActionPerformed
        // TODO add your handling code here:
        
        int index;
        String line = String.valueOf(blockClosingsLineDrop.getSelectedItem()).toUpperCase();
        String section = String.valueOf(blockClosingsSectionDrop.getSelectedItem()).toUpperCase();
        String block = String.valueOf(blockClosingsBlockDrop.getSelectedItem()).toUpperCase();
        
        System.out.println(line + ", " + section + ", " + block + " | Open: " + blockClosingsOpenRadio.isSelected());
        if(blockClosingsOpenRadio.isSelected() || blockClosingsCloseRadio.isSelected() && (!section.equals("SECTION") || !line.equals("LINE") || !block.equals("BLOCK #")))
        {
            index = this.CTCOffice.containsClosings(this.lineEnum(line), Integer.parseInt(block));
            System.out.println("CTC Block Closings ID: " + index);
            if(blockClosingsCloseRadio.isSelected())
            {
                if(index == -1)
                {
                    this.CTCOffice.BlockClosings.add(new BlockSignalBundle(0, 0, 0.0, Integer.parseInt(block), this.lineEnum(line), true));
                    this.CTCOffice.closureBundle.add(new BlockSignalBundle(0, 0, 0.0, Integer.parseInt(block), this.lineEnum(line), true));
                    String[][] blocks = new String[this.CTCOffice.BlockClosings.size()][2];
                    
                    if(this.CTCOffice.BlockClosings.size() > 0)
                    {
                        for(int i = 0; i < this.CTCOffice.BlockClosings.size(); i++)
                        {
                            blocks[i] = new String[]{lineString(this.CTCOffice.BlockClosings.get(i).LineID), Integer.toString(this.CTCOffice.BlockClosings.get(i).BlockID)};
                        }
                    }                
                    this.CTCOffice.closureBundle.set(0, new BlockSignalBundle(0, 0, 0.0, Integer.parseInt(block), this.lineEnum(line), true));
                    blockClosingsTable.setModel(new javax.swing.table.DefaultTableModel(blocks,new String [] {"Line", "Block ID"}));
                    System.out.println("Added, new blockClosing size: " + this.CTCOffice.BlockClosings.size());
                }
            }
            else if(blockClosingsOpenRadio.isSelected())
            {
                if(index != -1)
                {
                    //blockClosings.remove(new String[] {line,block});
                    //System.out.println(blockClosings.removeAll(new String[] {line,block}));
                    this.CTCOffice.BlockClosings.remove(index);
                    
                    //System.out.println(blocks.length);
                    String[][] blocks = new String[this.CTCOffice.BlockClosings.size()][2];
                    this.CTCOffice.closureBundle.add(new BlockSignalBundle(0, 0, -1.0, Integer.parseInt(block), this.lineEnum(line), false));
                    
                    if(this.CTCOffice.BlockClosings.size() > 0)
                    {                        
                        for(int i = 0; i < blocks.length; i++)
                        {
                            blocks[i] = new String[]{this.lineString(this.CTCOffice.BlockClosings.get(i).LineID), Integer.toString(this.CTCOffice.BlockClosings.get(i).BlockID)};
                        }
                    }
                    this.CTCOffice.closureBundle.set(0, new BlockSignalBundle(0, 0, -1.0, Integer.parseInt(block), this.lineEnum(line), false));
                    blockClosingsTable.setModel(new javax.swing.table.DefaultTableModel(blocks,new String [] {"Line", "Block"}));            
                    //System.out.println("Removed, new blockClosing size:" + blockClosings.size() + " | Number of Closings: " + closings);
                }
            }
        }
    }//GEN-LAST:event_blockClosingsSubmitButtonActionPerformed

    private void routeTrainsLineDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainsLineDropActionPerformed
        // TODO add your handling code here:
        String line = String.valueOf(routeTrainsLineDrop.getSelectedItem());
        
        if(line.equals("RED"))
        {
          routeTrainsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(this.CTCOffice.redSections));  
        }
        else if(line.equals("GREEN"))
        {
          routeTrainsSectionDrop.setModel(new javax.swing.DefaultComboBoxModel(this.CTCOffice.greenSections));    
        }
        this.routeTrainAuthorityValueLabel.setText("0");        
        this.routeTrainsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(new String[] {"Block #"}));
    }//GEN-LAST:event_routeTrainsLineDropActionPerformed

    private void routeTrainsSectionDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainsSectionDropActionPerformed
        this.routeTrainAuthorityValueLabel.setText("0");
        ArrayList<String> blocks = new ArrayList<>();
        blocks.add("Block #");
        
        String line = String.valueOf(routeTrainsLineDrop.getSelectedItem());
        String section = String.valueOf(routeTrainsSectionDrop.getSelectedItem()).toUpperCase();
        //System.out.println("CTC Route Train Line Selected: " + line);
        if(line.toUpperCase().equals("RED"))
        {
            //System.out.println("CTC Route Train Adding Red blocks to the drop down menu");
            for(String[] s: this.CTCOffice.red)
            {
                if(s[0].toUpperCase().equals(section))
                {
                    blocks.add(s[1]);
                }
            }            
            this.routeTrainsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(blocks.toArray(new String[0])));  
        }
        else if(line.toUpperCase().equals("GREEN"))
        {
            //System.out.println("CTC Route Train Adding Green blocks to the drop down menu");
            for(String[] s: this.CTCOffice.green)
            {
                if(s[0].toUpperCase().equals(section))
                {
                    blocks.add(s[1]);
                }
            }            
            this.routeTrainsBlockDrop.setModel(new javax.swing.DefaultComboBoxModel(blocks.toArray(new String[0])));
        }
    }//GEN-LAST:event_routeTrainsSectionDropActionPerformed

    private void routeTrainsBlockDropActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainsBlockDropActionPerformed
        String trainID = String.valueOf(routeTrainsTrainDrop.getSelectedItem());
        String line = String.valueOf(routeTrainsLineDrop.getSelectedItem());
        String section = String.valueOf(routeTrainsSectionDrop.getSelectedItem()).toUpperCase();       
        
        int authority;
        
        if(!routeTrainsBlockDrop.getSelectedItem().equals("Block #") || !line.equals("Line") || !section.equals("Section"))
        {
            int index = Integer.parseInt(trainID);
            int blockID = Integer.parseInt(routeTrainsBlockDrop.getSelectedItem().toString());            
            TrainsClass train  = new TrainsClass(LineColor.YARD, this.CTCOffice.trains.get(index).SectionCurrent, this.CTCOffice.trains.get(index).BlockCurrent, 0, section, blockID);
            train.PreviousBlock = this.CTCOffice.trains.get(index).PreviousBlock;
            train.BlockDestination = blockID;
            train.SectionDestination = this.CTCOffice.returnSection(lineEnum(line), blockID);
            train.StationDestination = this.CTCOffice.returnStationBlock(lineEnum(line), blockID);
            authority = (this.CTCOffice.calculateAuthority(train, this.lineEnum(line)).size());
            System.out.println("CTC Train's " + index + " Authority: " + authority);
            if(authority == 0)
            {
                this.routeTrainAuthorityValueLabel.setText(Integer.toString(0));
            }
            else
            {
                this.routeTrainAuthorityValueLabel.setText(Integer.toString(authority-1));
            }
            
        }
    }//GEN-LAST:event_routeTrainsBlockDropActionPerformed

    private void switchPositionSubmitButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_switchPositionSubmitButtonActionPerformed
        
        
        String line = this.switchPositionsLineDrop.getSelectedItem().toString();
        String switchNumber = this.switchPositionsLineDrop.getSelectedItem().toString();
        
        if(!switchNumber.equals("Switch #") && !line.equals("Line"))
        {          
            int switchID = Integer.parseInt(switchNumber);
            
            for(int i = 0; i < this.CTCOffice.switchPostions.size(); i++)
            {
                if(switchID == this.CTCOffice.switchPostions.get(i).SwitchID)
                {
                    if(this.switchPositionsStraightRadio.isSelected() && !this.CTCOffice.switchPostions.get(i).isStraight())
                    {
                        this.CTCOffice.switchBundle.set(0,this.CTCOffice.switchPostions.get(i));
                        this.CTCOffice.switchBundle.get(0).Straight = true;
                    }
                    else if(this.switchPositionsDivergentRadio.isSelected() && this.CTCOffice.switchPostions.get(i).isStraight()) 
                    {
                        this.CTCOffice.switchBundle.set(0,this.CTCOffice.switchPostions.get(i));
                        this.CTCOffice.switchBundle.get(0).Straight = false;
                    }
                }
                
            }
        }
        
    }//GEN-LAST:event_switchPositionSubmitButtonActionPerformed

    private void routeTrainSubmitButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_routeTrainSubmitButtonActionPerformed
             LineColor lineDestination;
        int trainID = Integer.parseInt(String.valueOf(routeTrainsTrainDrop.getSelectedItem()));
        String line = String.valueOf(routeTrainsLineDrop.getSelectedItem()).toUpperCase();
        if(line.equals("RED"))
        {
            lineDestination = LineColor.RED;
        }
        else if(line.equals("GREEN"))
        {
            lineDestination = LineColor.GREEN;
            
        }        
        else
        {
            lineDestination = LineColor.YARD;
        }
        String section = String.valueOf(routeTrainsSectionDrop.getSelectedItem()).toUpperCase();
        int block = Integer.parseInt(String.valueOf(routeTrainsBlockDrop.getSelectedItem()));
        
        this.CTCOffice.trains.set(trainID, new TrainsClass(lineDestination, this.CTCOffice.trains.get(trainID).SectionCurrent,  this.CTCOffice.trains.get(trainID).BlockCurrent, this.CTCOffice.calculateAuthority(this.CTCOffice.trains.get(trainID),this.CTCOffice.trains.get(trainID).line).size(),section, block));
        this.CTCOffice.setRoute = this.CTCOffice.calculateAuthority(this.CTCOffice.trains.get(trainID), lineDestination);
        //System.out.println("CTC new route submitted");
    }//GEN-LAST:event_routeTrainSubmitButtonActionPerformed
   
    public void setClosures()
    {
        String line ;
        for(int i = 0; i < this.CTCOffice.BlockClosings.size(); i++)
        {
            if(this.CTCOffice.BlockClosings.get(i).LineID == LineColor.GREEN)
            {
                line = "GREEN";
            }
            else if(this.CTCOffice.BlockClosings.get(i).LineID == LineColor.RED)
            {
                line = "RED";
            }
            else
            {
                line = "Yard";
            }
            
            this.trainLocationsTable.setValueAt(line, i, 0);
            this.trainLocationsTable.setValueAt(this.CTCOffice.BlockClosings.get(i).BlockID, i, 1);            
        }
    }
    
    public void SetTrainLocations()
    {
        for(int i = 0; i <this.CTCOffice.trains.size(); i++)
        {
            this.trainLocationsTable.setValueAt(Integer.toString(i), i, 0);
            this.trainLocationsTable.setValueAt(Integer.toString(this.CTCOffice.trains.get(i).Authority), i, 1);
            this.trainLocationsTable.setValueAt(this.CTCOffice.trains.get(i).lineColor(), i, 2);
            this.trainLocationsTable.setValueAt(this.CTCOffice.trains.get(i).SectionCurrent, i, 3);
            this.trainLocationsTable.setValueAt(this.CTCOffice.trains.get(i).BlockCurrent, i, 4);
            this.trainLocationsTable.setValueAt(this.CTCOffice.trains.get(i).StationCurrent, i, 5);            
        }
    }
    
    public void SetTrainDestination()
    {
        for(int i = 0; i <this.CTCOffice.trains.size(); i++)
        {
            this.trainDestinationTable.setValueAt(Integer.toString(i), i, 0);
            this.trainDestinationTable.setValueAt(this.CTCOffice.trains.get(i).lineColor(), i , 1);
            this.trainDestinationTable.setValueAt(this.CTCOffice.trains.get(i).SectionDestination, i, 2);
            this.trainDestinationTable.setValueAt(this.CTCOffice.trains.get(i).BlockDestination, i, 3);
            this.trainDestinationTable.setValueAt(this.CTCOffice.trains.get(i).StationDestination, i, 4);            
        }
    }
    
    public void SetSwitchPositions()
    {
        String connection;
        String position;
        
        for(int i = 0; i <this.CTCOffice.switchPostions.size(); i++)
        {
            this.switchPositionsTable.setValueAt(lineString(this.CTCOffice.switchPostions.get(i).LineID), i, 0);
            this.switchPositionsTable.setValueAt(this.CTCOffice.switchPostions.get(i).SwitchID, i , 1);
            if(this.CTCOffice.switchPostions.get(i).Straight)
            {
                position = "Straight";
                connection = this.CTCOffice.switchPostions.get(i).ApproachBlock + ":" + this.CTCOffice.switchPostions.get(i).StraightBlock;
            }
            else
            {
                position = "Divergent";
                connection = this.CTCOffice.switchPostions.get(i).ApproachBlock + ":" + this.CTCOffice.switchPostions.get(i).DivergentBlock;
                
            }
            
            this.switchPositionsTable.setValueAt(connection, i , 2);
            this.switchPositionsTable.setValueAt(position, i , 3);
        }
    }

    private String lineString(LineColor line)
    {
        if(line == LineColor.GREEN)
        {
            return "GREEN";
        }
        else if(line == LineColor.RED)
        {
            return "RED";
        }
        else
        {
            return "Yard";
        }
    
    }
    
    private LineColor lineEnum(String line)
    {
        if(("GREEN").equals(line.toUpperCase()))
        {
            return LineColor.GREEN;
        }
        if(("RED").equals(line.toUpperCase()))
        {
            return LineColor.RED;
        }
        else
        {
            return LineColor.YARD;
        }
    
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox blockClosingsBlockDrop;
    private javax.swing.JRadioButton blockClosingsCloseRadio;
    private javax.swing.JLabel blockClosingsLabel;
    private javax.swing.JLabel blockClosingsLabel1;
    private javax.swing.JComboBox blockClosingsLineDrop;
    private javax.swing.JRadioButton blockClosingsOpenRadio;
    private javax.swing.JPanel blockClosingsPanel;
    private javax.swing.ButtonGroup blockClosingsRadioGroup;
    private javax.swing.JComboBox blockClosingsSectionDrop;
    private javax.swing.JButton blockClosingsSubmitButton;
    private javax.swing.JTable blockClosingsTable;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JLabel routeTrainAuthorityLabel;
    private javax.swing.JLabel routeTrainAuthorityValueLabel;
    private javax.swing.JTextField routeTrainSpeedText;
    private javax.swing.JButton routeTrainSubmitButton;
    private javax.swing.JComboBox routeTrainsBlockDrop;
    private javax.swing.JLabel routeTrainsLabel;
    private javax.swing.JComboBox routeTrainsLineDrop;
    private javax.swing.JPanel routeTrainsPanel;
    private javax.swing.JComboBox routeTrainsSectionDrop;
    private javax.swing.JLabel routeTrainsSpeedLabel;
    private javax.swing.JComboBox routeTrainsTrainDrop;
    private javax.swing.JLabel switchPositionLabel;
    private javax.swing.JButton switchPositionSubmitButton;
    private javax.swing.JComboBox switchPositionSwitchesDrop;
    private javax.swing.JRadioButton switchPositionsDivergentRadio;
    private javax.swing.JLabel switchPositionsLabel;
    private javax.swing.JComboBox switchPositionsLineDrop;
    private javax.swing.JPanel switchPositionsPanel;
    private javax.swing.ButtonGroup switchPositionsRadioGroup;
    private javax.swing.JRadioButton switchPositionsStraightRadio;
    private javax.swing.JTable switchPositionsTable;
    private javax.swing.JLabel trainDestinationLabel;
    private javax.swing.JTable trainDestinationTable;
    private javax.swing.JLabel trainLocationsLabel;
    private javax.swing.JTable trainLocationsTable;
    // End of variables declaration//GEN-END:variables
}
